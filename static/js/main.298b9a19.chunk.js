(this["webpackJsonpkaggle-look-alike"]=this["webpackJsonpkaggle-look-alike"]||[]).push([[0],{34:function(e,t,a){e.exports=a(51)},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(21),l=a.n(i),c=a(23),r=a(6),o=a.n(r);a(39);class m extends s.a.PureComponent{render(){const e=this.props;return s.a.createElement("div",{className:"FileList"},s.a.createElement("div",{className:"dataExplo fTitle"},"Data Explorer"),s.a.createElement("div",{className:"fileCount fTitle"}," ",e.files.length+" files"),e.files.map((t,a)=>s.a.createElement("div",{key:t.name,id:a,className:a===e.selectedIdx?"selected":"",onClick:e.loading?null:e.clickFile},t.name)))}}var d=a(64),p=a(65),u=a(66);a(40);class g extends s.a.Component{render(){const e=this.props;return s.a.createElement("div",{className:"TitleBar"},s.a.createElement("h1",null,e.name+" ",s.a.createElement("span",null,e.count)),s.a.createElement("div",{className:"topIcons"},"table"===e.view?s.a.createElement(d.a,{onClick:e.toggleViewFunc}):s.a.createElement(p.a,{onClick:e.toggleViewFunc}),s.a.createElement("a",{href:e.url,target:"_new"},s.a.createElement(u.a,null))))}}var h=a(5);a(45);class y extends s.a.Component{render(){const e=this.props.data;if(e){const t=h.d(e);return s.a.createElement("div",{className:"Bars"},e.map((e,a)=>s.a.createElement("div",{key:"b"+a,style:{left:10*a+"px",height:parseInt(e/t*100)+"px"},title:e})))}return s.a.createElement("div",{className:"NoBars"},"N/A")}}a(46);class E extends s.a.PureComponent{constructor(...e){super(...e),this.showAll=()=>{this.setState({showAllRows:!0})}}render(){const e=this.props,t=e.showAllRows,a=t?e.data:e.data.slice(0,200),n=e.stats,i=e.metadata.columns,l=e.sorting;return s.a.createElement(s.a.Fragment,null,s.a.createElement("table",{className:"Table"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"rowLabels"},i.map((t,a)=>s.a.createElement("th",{id:t.name,key:"c"+a,className:"integer"===t.type||"decimal"===t.type?"rightAlign":"",onClick:e.sortFunc},s.a.createElement("div",null,t.name)))),s.a.createElement("tr",{className:"rowHisto"},i.map((e,t)=>s.a.createElement("td",{key:"c"+t},s.a.createElement(y,{data:n[e.name].hist}))))),s.a.createElement("tbody",{className:l?"hidden":""},a.map((e,t)=>s.a.createElement("tr",{key:"r"+t},i.map((t,a)=>s.a.createElement("td",{key:"c"+a,className:"integer"===t.type||"decimal"===t.type?"rightAlign":""},e[t.name])))))),t||a.length===e.data.length?null:s.a.createElement("div",{className:"showMore"},"Currently showing ",a.length," rows.",s.a.createElement("span",{className:"fakeLink",onClick:e.removeSizeLimitFunc},"Show all ",e.data.length," rows")))}}a(47);const w=["nulls","min","max","mean","stdDev"];class v extends s.a.PureComponent{render(){const e=this.props.metadata.columns;return s.a.createElement("div",{className:"Stats"},e.map((e,t)=>s.a.createElement("div",{key:"c"+t},s.a.createElement("h3",null,e.name," ",s.a.createElement("span",null,e.type)),this.renderFeature(e))),s.a.createElement("span",{className:"clearer"}))}renderFeature(e){const t=this.props.stats[e.name];return["string","date","time","timestamp"].includes(e.type)?s.a.createElement("div",null,s.a.createElement("label",null,"nulls"),s.a.createElement("span",null,t.nulls)):w.map(e=>s.a.createElement("div",{key:e},s.a.createElement("label",null,e),s.a.createElement("span",null,t[e])))}}a(48);class _ extends s.a.PureComponent{render(){return s.a.createElement("div",{className:"evol-loading"},s.a.createElement("div",{className:"loading_txt"},this.props.message||"Loading..."),s.a.createElement("div",{className:"spinner"},s.a.createElement("div",{className:"bounce1"}),s.a.createElement("div",{className:"bounce2"}),s.a.createElement("div",{className:"bounce3"})))}}class f extends s.a.Component{constructor(...e){super(...e),this.state={view:"table"},this.toggleView=()=>{document.getElementById("DataSpace").scrollTo(0,0),this.setState({view:"table"===this.state.view?"stats":"table"})}}render(){const e=this.props,t=e.data,a=this.props.metadata;let n=(t&&t.length?t.length+" rows, ":"")+a.columns.length+" columns";return s.a.createElement("div",{id:"DataSpace",className:"DataSpace"},s.a.createElement(g,{name:a.name,count:n,url:a.url,toggleViewFunc:this.toggleView,view:this.state.view}),s.a.createElement("div",{className:"file_desc"},a.description),e.loading?s.a.createElement(_,null):"table"===this.state.view?s.a.createElement(E,{metadata:a,data:t,stats:e.stats,sortFunc:e.sortFunc,removeSizeLimitFunc:e.removeSizeLimitFunc,showAllRows:e.showAllRows,lastSort:e.lastSort}):s.a.createElement(v,{metadata:a,stats:e.stats}))}}a(49);class N extends s.a.Component{constructor(...e){super(...e),this.dataCache={},this.state={selectedIdx:0,data:null,stats:null,loading:!0,showAllRows:!1},this.clickFile=e=>{const t=parseInt(e.currentTarget.id);document.getElementById("DataSpace").scrollTo(0,0),this.setState({selectedIdx:t,data:null,stats:null,loading:!0,showAllRows:!1,error:null}),this.getData(o.a[t])},this.sortData=e=>{const t=e.currentTarget.id,a=o.a[this.state.selectedIdx].columns.find(e=>e.name===t),n=a.name;if(n===this.state.lastSort)this.setState({data:this.state.data.reverse(),lastSort:""});else{let e;e="string"===a.type?(e,t)=>(e[n]||"").localeCompare(t[n]||""):(e,t)=>e[n]>t[n]?1:t[n]>e[n]?-1:0,this.setState({data:this.state.data.sort(e),lastSort:n,showAllRows:!1})}},this.removeSizeLimit=()=>{this.setState({showAllRows:!0})}}render(){const e=this.state,t=e.selectedIdx;return s.a.createElement("div",{className:"App"},s.a.createElement(m,{loading:this.state.loading,files:o.a,clickFile:this.clickFile,selectedIdx:t}),this.state.error?s.a.createElement("div",{className:"error"},"An error occured while requesting data from the server."):s.a.createElement(f,{loading:e.loading,metadata:o.a[t],data:e.data,stats:e.stats,sortFunc:this.sortData,lastSort:e.lastSort,showAllRows:e.showAllRows,removeSizeLimitFunc:this.removeSizeLimit}))}componentDidMount(){this.getData(o.a[this.state.selectedIdx])}getData(e){const t=e.url;if(this.dataCache[t]){const e=this.dataCache[t];this.setState({data:e.data,stats:e.stats,loading:!1,showAllRows:!1,lastSort:""})}else{const a=e.columns;let n={};a.forEach(e=>n[e.name]="string"===e.type?{nulls:0}:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,nulls:0,total:0});const s={integer:e=>parseInt(e),decimal:e=>parseFloat(e),time:e=>e,date:e=>e,timestamp:e=>e};h.a(t,e=>(a.forEach(t=>{if("string"!==t.type){const a=t.name;let i=e[a];""===i?(n[t].nulls+=1,e[a]=null):(i=s[t.type](i),e[a]=i,"integer"!==t.type&&"decimal"!==t.type||(i>n[a].max&&(n[a].max=i),i<n[a].min&&(n[a].min=i),n[a].total+=i))}}),e)).then(e=>{a.forEach(t=>{if("string"!==t.type){const a=n[t.name],s=e.length-a.nulls;if(a.mean=0!==s?a.total/s:"N/A","integer"===t.type||"decimal"===t.type){const n=e.map(e=>e[t.name]);a.stdDev=h.b(n),a.hist=h.c().domain([a.min,a.max]).thresholds(19)(n).map(e=>e.length)}}});const s={data:e,stats:n};this.dataCache[t]=s,this.setState(Object(c.a)({loading:!1,lastSort:""},s))}).catch(e=>{this.setState({loading:!1,error:e.message})})}}}a(50);l.a.render(s.a.createElement(N,null),document.getElementById("root"))},6:function(e,t){e.exports=[{name:"content",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/content.csv",description:"Articles information.",columns:[{name:"content_id",type:"integer"},{name:"author",type:"string"},{name:"body",type:"string"},{name:"target_lat",type:"decimal"},{name:"target_long",type:"decimal"},{name:"language",type:"string"},{name:"is_recommendable",type:"integer"}]},{name:"content_display",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/content_display.csv",description:"Page views and questions.",columns:[{name:"content_display_id",type:"integer"},{name:"user_id",type:"integer"},{name:"content_id",type:"integer"},{name:"question_id",type:"integer"},{name:"latitude",type:"decimal"},{name:"longitude",type:"decimal"},{name:"timestamp",type:"decimal"},{name:"clicked",type:"integer"}]},{name:"content_topic",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/content_topic.csv",description:"Articles categorization.",columns:[{name:"id",type:"integer"},{name:"content_id",type:"integer"},{name:"topic_id",type:"string"},{name:"confidence",type:"decimal"}]},{name:"page_view",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/page_view.csv",description:"Articles page views.",columns:[{name:"page_view_id",type:"integer"},{name:"timestamp",type:"timestamp"},{name:"user_id",type:"integer"},{name:"content_id",type:"integer"},{name:"latitude",type:"decimal"},{name:"longitude",type:"decimal"}]},{name:"questions",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/questions.csv",description:"Questions on articles.",columns:[{name:"question_id",type:"integer"},{name:"timestamp",type:"timestamp"},{name:"user_id",type:"integer"},{name:"question_text",type:"string"}]},{name:"stock_portfolio_item",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/stock_portfolio_item.csv",description:"Stock market stuff.",columns:[{name:"id",type:"integer"},{name:"user_id",type:"integer"},{name:"topic_id",type:"string"},{name:"created_at",type:"time"}]},{name:"user",url:"https://s3-us-west-2.amazonaws.com/tecton.ai.public/coding_exercise_1/user.csv",description:"Users information.",columns:[{name:"user_id",type:"integer"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"email",type:"string"},{name:"gender",type:"string"},{name:"language",type:"string"},{name:"birthdate",type:"date"},{name:"enthnicity",type:"string"},{name:"zip_code",type:"integer"},{name:"home_latitude",type:"decimal"},{name:"home_longitude",type:"decimal"},{name:"home_geo_hash",type:"decimal"}]}]}},[[34,1,2]]]);
//# sourceMappingURL=main.298b9a19.chunk.js.map